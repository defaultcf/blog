---
title: "ハッカソン中にGitLabを立ち上げてはならない"
date: "2016-10-10"
layout: "post"
---

[この前参加したハッカソン](https://leo-isaac.net/blog/2016/09/25/i-participated-in-hackothon/)は、自分にとって人生初ハッカソンだったわけだが、今振り返れば1日目の最初の数時間をGitLab立ち上げに費やしたのは、我ながらアホだなと思う。

そこでハッカソンが終わった今、今後の活動に備えてGitLabを立ち上げておくことにした。その手順を記す...と言っても、[公式のリファレンス](https://about.gitlab.com/downloads/)に従えばどうってことない。ウェブブラウザで開くようになるまでは数分あれば簡単に出来てしまう。問題はこの先にあった...

 

そう、ハッカソン中のGitLabの立ち上げは数分で出来た。じゃあ早速ローカルで作業したデータをプッシュしようとした時、問題が発生した。

**公開鍵・秘密鍵をパスワード無しで生成したのに、プッシュしようとしたらパスワードを要求されるのだ。**

ハッカソン中は全く解決できず、数時間費やした末に泣く泣くGitHubにパブリックな状態で上げることにした...不覚。終わった今になって再度解決法を探ってみたら分かった。

##### 1\. パスワード未設定のユーザーのSSHアクセスを許可する。

.
.
.
#git:!!:......

# ↓ !!を\*に変える

git:\*:......
.
.
.

##### 2\. gitユーザーのSSHアクセスを許可する。

.
.
.
# AllowUserにgitユーザーを追加する
AllowUsers git
.
.
.

##### 3. gitlab-ctl reconfigure する

 

これだけ。sshしようとしたらWelcome to GitLab, ${username}! って挨拶されて閉じられれば成功。今度からはGitHubで公開するには早いものをGitLabに上げていくことにする。
